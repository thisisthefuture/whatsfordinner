const checkins = require('./checkins.js'),
      assert = require('assert')
    // length = 1
    // 3 seattle restaurants
    const sampleList_1 = [{"response":{"checkins":{"count":1511,"items":[{"comments":{"count":0},"createdAt":1485114975,"id":"58850e5fac136931b3b66dac","venue":{"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/food/vietnamese_","suffix":".png"},"id":"4bf58dd8d48988d14a941735","name":"Vietnamese Restaurant","pluralName":"Vietnamese Restaurants","primary":true,"shortName":"Vietnamese"}],"contact":{"formattedPhone":"(206) 325-2111","phone":"2063252111","twitter":"monsoonnw"},"hasMenu":true,"id":"4391a4d9f964a5205e2b1fe3","location":{"address":"615 19th Ave E","cc":"US","city":"Seattle","country":"United States","crossStreet":"at E Mercer St","formattedAddress":["615 19th Ave E (at E Mercer St)","Seattle, WA 98112"],"labeledLatLngs":[{"label":"display","lat":47.62479716487741,"lng":-122.30756968259811}],"lat":47.62479716487741,"lng":-122.30756968259811,"postalCode":"98112","state":"WA"},"menu":{"anchor":"View Menu","label":"Menu","mobileUrl":"https://foursquare.com/v/4391a4d9f964a5205e2b1fe3/device_menu","type":"Menu","url":"https://foursquare.com/v/monsoon/4391a4d9f964a5205e2b1fe3/menu"},"name":"Monsoon","stats":{"checkinsCount":2798,"tipCount":48,"usersCount":1470},"url":"http://www.monsoonseattle.com","verified":false}},{"comments":{"count":0},"createdAt":1485063103,"id":"588443bf2bc5e272f3f8ab3a","venue":{"allowMenuUrlEdit":true,"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/nightlife/pub_","suffix":".png"},"id":"4bf58dd8d48988d116941735","name":"Bar","pluralName":"Bars","primary":true,"shortName":"Bar"}],"contact":{"formattedPhone":"(206) 245-1390","phone":"2062451390"},"hasMenu":true,"id":"4f3dffcae4b02787b3ae4674","location":{"address":"719 E Pike St","cc":"US","city":"Seattle","country":"United States","crossStreet":"at Harvard Ave.","formattedAddress":["719 E Pike St (at Harvard Ave.)","Seattle, WA 98122"],"labeledLatLngs":[{"label":"display","lat":47.61405165530944,"lng":-122.32260390442656}],"lat":47.61405165530944,"lng":-122.32260390442656,"postalCode":"98122","state":"WA"},"menu":{"anchor":"View Menu","label":"Menu","mobileUrl":"https://foursquare.com/v/4f3dffcae4b02787b3ae4674/device_menu","type":"Menu","url":"https://foursquare.com/v/saint-johns-bar--eatery/4f3dffcae4b02787b3ae4674/menu"},"name":"Saint John's Bar & Eatery","stats":{"checkinsCount":3473,"tipCount":23,"usersCount":1614},"url":"http://saintjohnsseattle.com","verified":false}},{"comments":{"count":0},"createdAt":1485038417,"id":"5883e3515cab2f669117360c","venue":{"allowMenuUrlEdit":true,"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/food/asian_","suffix":".png"},"id":"4bf58dd8d48988d142941735","name":"Asian Restaurant","pluralName":"Asian Restaurants","primary":true,"shortName":"Asian"}],"contact":{"formattedPhone":"(206) 726-0141","phone":"2067260141"},"id":"54c150cf498edf6cf23c4a71","location":{"address":"1631 E Olive Way","cc":"US","city":"Seattle","country":"United States","crossStreet":"Belmont Ave E","formattedAddress":["1631 E Olive Way (Belmont Ave E)","Seattle, WA 98102"],"labeledLatLngs":[{"label":"display","lat":47.619344208146615,"lng":-122.32453139729026}],"lat":47.619344208146615,"lng":-122.32453139729026,"postalCode":"98102","state":"WA"},"name":"BlueStone","stats":{"checkinsCount":500,"tipCount":8,"usersCount":288},"verified":false}},{"comments":{"count":0},"createdAt":1484878945,"id":"58817461040d537fb5bb7f5b","venue":{"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/shops/technology_","suffix":".png"},"id":"4bf58dd8d48988d125941735","name":"Tech Startup","pluralName":"Tech Startups","primary":true,"shortName":"Tech Startup"}],"contact":{"twitter":"twitterseattle"},"id":"5048f16fe4b06b5821990507","location":{"address":"1501 4th Ave","cc":"US","city":"Seattle","country":"United States","crossStreet":"Pike St","formattedAddress":["1501 4th Ave (Pike St)","Seattle, WA 98101"],"labeledLatLngs":[{"label":"display","lat":47.60979112600535,"lng":-122.33793551960332}],"lat":47.60979112600535,"lng":-122.33793551960332,"postalCode":"98101","state":"WA"},"name":"Twitter Seattle","stats":{"checkinsCount":562,"tipCount":1,"usersCount":217},"venuePage":{"id":"135106709"},"venueRatingBlacklisted":true,"verified":true}}]}}}]

describe('JSON check', () => {

    // let results = checkins.parse(sampleList_1)
    // assert.equal(typeof results, typeof 'string')

})

describe('Parse json', () => {    
    // length = 2
    // 4 seattle restaurants. i.e.,: restaurant Bluestone2
    // 2 unique cities. i.e., Seattle2
    const sampleList_2 = [{"response":{"checkins":{"count":1511,"items":[{"comments":{"count":0},"createdAt":1485114975,"id":"58850e5fac136931b3b66dac","venue":{"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/food/vietnamese_","suffix":".png"},"id":"4bf58dd8d48988d14a941735","name":"Vietnamese Restaurant","pluralName":"Vietnamese Restaurants","primary":true,"shortName":"Vietnamese"}],"contact":{"formattedPhone":"(206) 325-2111","phone":"2063252111","twitter":"monsoonnw"},"hasMenu":true,"id":"4391a4d9f964a5205e2b1fe3","location":{"address":"615 19th Ave E","cc":"US","city":"Seattle2","country":"United States","crossStreet":"at E Mercer St","formattedAddress":["615 19th Ave E (at E Mercer St)","Seattle, WA 98112"],"labeledLatLngs":[{"label":"display","lat":47.62479716487741,"lng":-122.30756968259811}],"lat":47.62479716487741,"lng":-122.30756968259811,"postalCode":"98112","state":"WA"},"menu":{"anchor":"View Menu","label":"Menu","mobileUrl":"https://foursquare.com/v/4391a4d9f964a5205e2b1fe3/device_menu","type":"Menu","url":"https://foursquare.com/v/monsoon/4391a4d9f964a5205e2b1fe3/menu"},"name":"Monsoon","stats":{"checkinsCount":2798,"tipCount":48,"usersCount":1470},"url":"http://www.monsoonseattle.com","verified":false}},{"comments":{"count":0},"createdAt":1485063103,"id":"588443bf2bc5e272f3f8ab3a","venue":{"allowMenuUrlEdit":true,"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/nightlife/pub_","suffix":".png"},"id":"4bf58dd8d48988d116941735","name":"Bar","pluralName":"Bars","primary":true,"shortName":"Bar"}],"contact":{"formattedPhone":"(206) 245-1390","phone":"2062451390"},"hasMenu":true,"id":"4f3dffcae4b02787b3ae4674","location":{"address":"719 E Pike St","cc":"US","city":"Seattle","country":"United States","crossStreet":"at Harvard Ave.","formattedAddress":["719 E Pike St (at Harvard Ave.)","Seattle, WA 98122"],"labeledLatLngs":[{"label":"display","lat":47.61405165530944,"lng":-122.32260390442656}],"lat":47.61405165530944,"lng":-122.32260390442656,"postalCode":"98122","state":"WA"},"menu":{"anchor":"View Menu","label":"Menu","mobileUrl":"https://foursquare.com/v/4f3dffcae4b02787b3ae4674/device_menu","type":"Menu","url":"https://foursquare.com/v/saint-johns-bar--eatery/4f3dffcae4b02787b3ae4674/menu"},"name":"Saint John's Bar & Eatery","stats":{"checkinsCount":3473,"tipCount":23,"usersCount":1614},"url":"http://saintjohnsseattle.com","verified":false}},{"comments":{"count":0},"createdAt":1485038417,"id":"5883e3515cab2f669117360c","venue":{"allowMenuUrlEdit":true,"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/food/asian_","suffix":".png"},"id":"4bf58dd8d48988d142941735","name":"Asian Restaurant","pluralName":"Asian Restaurants","primary":true,"shortName":"Asian"}],"contact":{"formattedPhone":"(206) 726-0141","phone":"2067260141"},"id":"54c150cf498edf6cf23c4a71","location":{"address":"1631 E Olive Way","cc":"US","city":"Seattle","country":"United States","crossStreet":"Belmont Ave E","formattedAddress":["1631 E Olive Way (Belmont Ave E)","Seattle, WA 98102"],"labeledLatLngs":[{"label":"display","lat":47.619344208146615,"lng":-122.32453139729026}],"lat":47.619344208146615,"lng":-122.32453139729026,"postalCode":"98102","state":"WA"},"name":"BlueStone","stats":{"checkinsCount":500,"tipCount":8,"usersCount":288},"verified":false}},{"comments":{"count":0},"createdAt":1484878945,"id":"58817461040d537fb5bb7f5b","venue":{"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/shops/technology_","suffix":".png"},"id":"4bf58dd8d48988d125941735","name":"Tech Startup","pluralName":"Tech Startups","primary":true,"shortName":"Tech Startup"}],"contact":{"twitter":"twitterseattle"},"id":"5048f16fe4b06b5821990507","location":{"address":"1501 4th Ave","cc":"US","city":"Seattle","country":"United States","crossStreet":"Pike St","formattedAddress":["1501 4th Ave (Pike St)","Seattle, WA 98101"],"labeledLatLngs":[{"label":"display","lat":47.60979112600535,"lng":-122.33793551960332}],"lat":47.60979112600535,"lng":-122.33793551960332,"postalCode":"98101","state":"WA"},"name":"Twitter Seattle","stats":{"checkinsCount":562,"tipCount":1,"usersCount":217},"venuePage":{"id":"135106709"},"venueRatingBlacklisted":true,"verified":true}}]}}}, {"response":{"checkins":{"count":1511,"items":[{"comments":{"count":0},"createdAt":1485114975,"id":"58850e5fac136931b3b66dac","venue":{"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/food/vietnamese_","suffix":".png"},"id":"4bf58dd8d48988d14a941735","name":"Vietnamese Restaurant","pluralName":"Vietnamese Restaurants","primary":true,"shortName":"Vietnamese"}],"contact":{"formattedPhone":"(206) 325-2111","phone":"2063252111","twitter":"monsoonnw"},"hasMenu":true,"id":"4391a4d9f964a5205e2b1fe3","location":{"address":"615 19th Ave E","cc":"US","city":"Seattle","country":"United States","crossStreet":"at E Mercer St","formattedAddress":["615 19th Ave E (at E Mercer St)","Seattle, WA 98112"],"labeledLatLngs":[{"label":"display","lat":47.62479716487741,"lng":-122.30756968259811}],"lat":47.62479716487741,"lng":-122.30756968259811,"postalCode":"98112","state":"WA"},"menu":{"anchor":"View Menu","label":"Menu","mobileUrl":"https://foursquare.com/v/4391a4d9f964a5205e2b1fe3/device_menu","type":"Menu","url":"https://foursquare.com/v/monsoon/4391a4d9f964a5205e2b1fe3/menu"},"name":"Monsoon","stats":{"checkinsCount":2798,"tipCount":48,"usersCount":1470},"url":"http://www.monsoonseattle.com","verified":false}},{"comments":{"count":0},"createdAt":1485063103,"id":"588443bf2bc5e272f3f8ab3a","venue":{"allowMenuUrlEdit":true,"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/nightlife/pub_","suffix":".png"},"id":"4bf58dd8d48988d116941735","name":"Bar","pluralName":"Bars","primary":true,"shortName":"Bar"}],"contact":{"formattedPhone":"(206) 245-1390","phone":"2062451390"},"hasMenu":true,"id":"4f3dffcae4b02787b3ae4674","location":{"address":"719 E Pike St","cc":"US","city":"Seattle","country":"United States","crossStreet":"at Harvard Ave.","formattedAddress":["719 E Pike St (at Harvard Ave.)","Seattle, WA 98122"],"labeledLatLngs":[{"label":"display","lat":47.61405165530944,"lng":-122.32260390442656}],"lat":47.61405165530944,"lng":-122.32260390442656,"postalCode":"98122","state":"WA"},"menu":{"anchor":"View Menu","label":"Menu","mobileUrl":"https://foursquare.com/v/4f3dffcae4b02787b3ae4674/device_menu","type":"Menu","url":"https://foursquare.com/v/saint-johns-bar--eatery/4f3dffcae4b02787b3ae4674/menu"},"name":"Saint John's Bar & Eatery","stats":{"checkinsCount":3473,"tipCount":23,"usersCount":1614},"url":"http://saintjohnsseattle.com","verified":false}},{"comments":{"count":0},"createdAt":1485038417,"id":"5883e3515cab2f669117360c","venue":{"allowMenuUrlEdit":true,"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/food/asian_","suffix":".png"},"id":"4bf58dd8d48988d142941735","name":"Asian Restaurant","pluralName":"Asian Restaurants","primary":true,"shortName":"Asian"}],"contact":{"formattedPhone":"(206) 726-0141","phone":"2067260141"},"id":"54c150cf498edf6cf23c4a71","location":{"address":"1631 E Olive Way","cc":"US","city":"Seattle","country":"United States","crossStreet":"Belmont Ave E","formattedAddress":["1631 E Olive Way (Belmont Ave E)","Seattle, WA 98102"],"labeledLatLngs":[{"label":"display","lat":47.619344208146615,"lng":-122.32453139729026}],"lat":47.619344208146615,"lng":-122.32453139729026,"postalCode":"98102","state":"WA"},"name":"BlueStone2","stats":{"checkinsCount":500,"tipCount":8,"usersCount":288},"verified":false}},{"comments":{"count":0},"createdAt":1484878945,"id":"58817461040d537fb5bb7f5b","venue":{"beenHere":{"lastCheckinExpiredAt":0},"categories":[{"icon":{"prefix":"https://ss3.4sqi.net/img/categories_v2/shops/technology_","suffix":".png"},"id":"4bf58dd8d48988d125941735","name":"Tech Startup","pluralName":"Tech Startups","primary":true,"shortName":"Tech Startup"}],"contact":{"twitter":"twitterseattle"},"id":"5048f16fe4b06b5821990507","location":{"address":"1501 4th Ave","cc":"US","city":"Seattle","country":"United States","crossStreet":"Pike St","formattedAddress":["1501 4th Ave (Pike St)","Seattle, WA 98101"],"labeledLatLngs":[{"label":"display","lat":47.60979112600535,"lng":-122.33793551960332}],"lat":47.60979112600535,"lng":-122.33793551960332,"postalCode":"98101","state":"WA"},"name":"Twitter Seattle","stats":{"checkinsCount":562,"tipCount":1,"usersCount":217},"venuePage":{"id":"135106709"},"venueRatingBlacklisted":true,"verified":true}}]}}}]

    it('Filters a json array of length 1 correctly by venue and category', () => {
        let placesToEat = require('./checkins').parse(sampleList_1)        
        assert.equal(placesToEat.venues.length, 3)
    })

    it('Filters a json array of length 2 correctly by venue and category', () => {
        let placesToEat = require('./checkins').parse(sampleList_2)     
        assert.equal(placesToEat.venues.length, 4)
    })

    it('Finds 1 unique location', () => {
        let placesToEat = require('./checkins').parse(sampleList_1)         
        assert.equal(placesToEat.locations.length, 1)  
    })

    it('Finds multiple unique locations', () => {
        let placesToEat = require('./checkins').parse(sampleList_2)         
        assert.equal(placesToEat.locations.length, 2)  
    })
})